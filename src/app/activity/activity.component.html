<!-- Header -->
<app-right-header></app-right-header>

<!-- Activity -->
<section class="activity_sec" *ngIf="role !== 'investor'; else creatorTemplate">
  <div class="container">
    <div class="row">
      <div class="col-md-10">
        <div class="activitybox">
          <button
            class="activitybtn"
            (click)="onDisplayModeChange(1)"
            [ngClass]="{ 'btn-primary ': displayMode === 1 }"
          >
            {{ contentLan.ACTIVITY }}
          </button>
          <!-- <button class="backedbtn" (click)="onDisplayModeChange(2)" [ngClass]="{'btn-primary ': displayMode === 2}"> Backed projects </button> -->
          <button
            class="createdbtn"
            (click)="onDisplayModeChange(3)"
            [ngClass]="{ 'btn-primary ': displayMode === 3 }"
          >
            {{ contentLan.CREATEDPROJECTS }}
          </button>
          <button
            class="createdbtn"
            (click)="onDisplayModeChange(5)"
            [ngClass]="{ 'btn-primary ': displayMode === 5 }"
          >
            {{ contentLan.MYBILLS }}
          </button>
          <button
            class="createdbtn"
            (click)="onDisplayModeChange(6)"
            [ngClass]="{ 'btn-primary ': displayMode === 6 }"
          >
            {{ contentLan.PAYMENTHISTORY }}
          </button>
          <!-- <a href="/account" class="settinghref"><button class="settingbtn" > Settings </button></a> -->
          <!-- <a href="/profile" class="profilehref"><button class="profilebtn" >Profile</button></a> -->
        </div>
      </div>
    </div>

    <!-- Activity description -->
    <div class="row" *ngIf="displayMode === 1">
      <div class="col-md-12">
        <!-- <h4 class="activityhead">{{ contentLan.ACTIVITY }} </h4> -->
        <h4 class="activityhead">{{ contentLan.LIKEDPROJECT }}</h4>
        <p class="activitypara" *ngIf="likedata == ''">
          You haven't Liked anything â€”
          <a [routerLink]="['/featureproject']"
            ><span class="activitparahl">
              check out some of projects we love
            </span> </a
          >and help bring them to life today.
        </p>

        <section class="saved_cont_sec" *ngFor="let obj of likedata">
          <div class="row">
            <diV
              class="col-md-3"
              *ngIf="
                obj.likedProjectId.basicInfoId.projectImage;
                else nextImages
              "
            >
              <img
                src="{{ obj.likedProjectId.basicInfoId.projectImage }}"
                class="img-fluid"
                style="height: 90% !important"
              />
            </diV>

            <ng-template #nextImages>
              <diV class="col-md-3">
                <div
                  class="img-fluid"
                  style="background-color: lightgray; height: 90% !important"
                >
                  <i class="fas fa-image" style="margin: 91px"></i>
                </div>
              </diV>
            </ng-template>

            <div class="col-md-9">
              <ul class="cont_sec_pro">
                <li style="padding: 0px">
                  <i class="fa fa-list-alt" aria-hidden="true"></i
                  >{{ obj.likedProjectId.basicInfoId.categoryName }}
                </li>
                <li>
                  <i class="fa fa-map-marker"></i
                  >{{ obj.likedProjectId.basicInfoId.city }}
                </li>
                <li>
                  <span
                    *ngIf="obj.likedProjectId._is_On_Live_; else either"
                    class="forSpan"
                    >{{ contentLan.ACTIVE || "Active" }}</span
                  >
                </li>
                <ng-template #either>
                  <span class="forSpan">{{ contentLan.INACTIVE }}</span>
                </ng-template>
                <li style="float: right">
                  <button
                    style="border: none; background: none"
                    (click)="addtolike(obj.likedProjectId._id)"
                  >
                    <i class="fa fa-thumbs-up" aria-hidden="true"></i>
                  </button>
                </li>
              </ul>
              <h6 *ngIf="obj.likedProjectId._is_All_Nothing_ == true">
                {{ contentLan.BUSINESSMODEL }} :
                <span style="color: #ff4264"
                  >{{ contentLan.ALLORNOTHING }}
                  <i
                    class="fas fa-info-circle"
                    ngbTooltip="{{ contentLan.ALLORNOTHING }}"
                    style="
                      color: #5c82d4;
                      margin-left: 1%;
                      font-size: 14px;
                      cursor: pointer;
                    "
                  ></i
                ></span>
              </h6>
              <h6 *ngIf="obj.likedProjectId._is_Keep_It_All_ == true">
                {{ contentLan.BUSINESSMODEL }} :
                <span style="color: #ff4264"
                  >{{ contentLan.KEEPALL
                  }}<i
                    class="fas fa-info-circle"
                    ngbTooltip="{{ contentLan.KEEPALL }}"
                    style="
                      color: #5c82d4;
                      margin-left: 1%;
                      font-size: 14px;
                      cursor: pointer;
                    "
                  ></i
                ></span>
              </h6>
              <h3 style="padding: 0%">
                <a
                  class="onHover"
                  [routerLink]="['/projectview', obj.likedProjectId._id]"
                  >{{ obj.likedProjectId.title }}</a
                >
              </h3>
              <p
                *ngIf="obj.likedProjectId.basicInfoId.decription?.length >= 121"
              >
                {{ obj.likedProjectId.basicInfoId.decription.slice(0, 120) }}
                <a
                  [routerLink]="['/projectview', obj.likedProjectId._id]"
                  style="font-size: 15px; cursor: pointer"
                  >Read more</a
                >
              </p>
              <p
                *ngIf="121 >= obj.likedProjectId.basicInfoId.decription?.length"
              >
                {{ obj.likedProjectId.basicInfoId.decription }}
              </p>
              <hr class="cont_sec_hr" />
              <ul class="save_last_sec">
                <li>
                  {{ contentLan.GOAL }}:
                  <span class="coloured">
                    {{ obj.likedProjectId.basicInfoId.goalAmount }}</span
                  >
                </li>
                <li>
                  {{ contentLan.LAUNCH }} :
                  {{
                    obj.likedProjectId.basicInfoId.launchDate | date: "MMM d, y"
                  }}
                </li>
                <li>
                  {{ contentLan.PLEDGE || "Pledge" }}:{{
                    obj.likedProjectId._amount_Pleadged_
                  }}
                  &nbsp;({{ obj.likelastpercentage | number: "1.0-0" }}%)
                </li>
                <li>
                  {{ contentLan.PLEDGE || "Pledge" }}Count:{{
                    obj.likedProjectId._pledged_count_
                  }}
                </li>
              </ul>
            </div>
          </div>
        </section>
        <h4 class="activityhead">{{ contentLan.DELETEDPROJECTS }}</h4>
        <section class="saved_cont_sec" *ngFor="let delobj of deletedata">
          <div class="row">
            <diV
              class="col-md-3"
              *ngIf="delobj.basicInfoId.projectImage; else nextImage"
            >
              <img
                src="{{ delobj.basicInfoId.projectImage }}"
                class="img-fluid"
                style="height: 90% !important"
              />
            </diV>

            <ng-template #nextImage>
              <diV class="col-md-3">
                <div
                  class="img-fluid"
                  style="background-color: lightgray; height: 90% !important"
                >
                  <i class="fas fa-image" style="margin: 91px"></i>
                </div>
              </diV>
            </ng-template>

            <div class="col-md-9">
              <ul class="cont_sec_pro">
                <li style="padding: 0px">
                  <i class="fa fa-list-alt" aria-hidden="true"></i
                  >{{ delobj.basicInfoId.categoryName }}
                </li>
                <li>
                  <i class="fa fa-map-marker"></i>{{ delobj.basicInfoId.city }}
                </li>
              </ul>
              <h3 style="padding: 0%">
                <a
                  class="onHover"
                  [routerLink]="['/projectview', delobj._id]"
                  >{{ delobj.title }}</a
                >
              </h3>
              <p *ngIf="delobj.basicInfoId.decription?.length >= 121">
                {{ delobj.basicInfoId.decription.slice(0, 120) }}
                <a
                  [routerLink]="['/projectview', delobj._id]"
                  style="font-size: 15px; cursor: pointer"
                  >Read more</a
                >
              </p>
              <p *ngIf="121 >= delobj.basicInfoId.decription?.length">
                {{ delobj.basicInfoId.decription }}
              </p>
              <hr class="cont_sec_hr" />
              <ul class="save_last_sec">
                <li>
                  {{ contentLan.GOAL }}:
                  <span class="coloured">
                    {{ delobj.basicInfoId.goalAmount || "NA" }}</span
                  >
                </li>
                <li>
                  {{ contentLan.LAUNCH }} :
                  {{
                    delobj.basicInfoId.launchDate
                      ? (delobj.basicInfoId.launchDate | date: "MMM d, y")
                      : "NA"
                  }}
                </li>
              </ul>
            </div>
          </div>
        </section>
      </div>
    </div>

    <!-- Backed description -->
    <div class="row" *ngIf="displayMode === 2">
      <div class="col-md-8">
        <h4 class="activityhead">{{ contentLan.BACKEDPROJECS }}</h4>
        <p class="activitypara">
          You haven't backed anything â€”
          <span class="activitparahl">
            check out some popular projects we love </span
          >and help bring them to life today.
        </p>
      </div>
    </div>

    <!-- Created description -->
    <section *ngIf="displayMode === 3">
      <div class="row">
        <div class="col-md-8">
          <h4 class="activityhead">{{ contentLan.CREATEDPROJECTS }}</h4>
          <!-- <p class="activitypara">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type
                        specimen book.</p> -->
        </div>
      </div>
      <div class="row" *ngIf="createdcount == 0">
        <div class="col-md-12" style="text-align: center">
          <p>
            {{ contentLan.NOTYETCREATEAPROJECT }} -<a
              [routerLink]="['/startproject']"
              routerLinkActive="router-link-active"
              class="activitparahl"
            >
              Go For It!</a
            >
          </p>
        </div>
      </div>
      <section class="saved_cont_sec" *ngFor="let datas of created">
        <!-- <div class="row" style="margin-top: 2%;" *ngFor="let datas of created.data">

                    <div class="col-md-3">
                        <img src="{{datas.basicInfoId.projectImage}}" class="img-fluid">
                    </div>
                    <div class="col-md-7">
                        <a [routerLink]="['/projectinner/'+datas._id+'/projectoverview/basic']" style="text-decoration: none;color: black;">
                            <div class="project_cont">
                                <h3>{{datas.title}}</h3>
                                <p>By Michael Murdock</p>
                            </div>
                        </a>
            </div>
            <div class="col-md-2">
                <img src="assets/image/right_create_project.svg" class="img-fluid right_img_sec">
            </div>
            <hr style="width: 95%;margin-left: 3%;margin-top: 2%;">

        </div> -->

        <div class="row">
          <diV
            class="col-md-3"
            *ngIf="datas.basicInfoId.projectImage; else nextImage"
          >
            <img
              src="{{ datas.basicInfoId.projectImage }}"
              class="img-fluid"
              style="height: 90% !important"
            />
          </diV>

          <ng-template #nextImage>
            <diV class="col-md-3">
              <div
                class="img-fluid"
                style="
                  background-color: lightgray;
                  height: 90% !important;
                  max-width: 14pc;
                  text-align: center;
                "
              >
                <i class="fas fa-image" style="margin-top: 75px"></i>
              </div>
            </diV>
          </ng-template>

          <div class="col-md-9">
            <ul class="cont_sec_pro">
              <li style="padding: 0px">
                <i class="fa fa-list-alt" aria-hidden="true"></i
                >{{ datas.basicInfoId.categoryName }}
              </li>
              <li>
                <i class="fa fa-map-marker"></i>{{ datas.basicInfoId.city }}
              </li>
              <li>
                <span *ngIf="datas._is_On_Live_; else either" class="forSpan">{{
                  contentLan.ACTIVE || "Active"
                }}</span>
              </li>
              <ng-template #either>
                <span
                  class="forSpan"
                  style="background: red; color: #fff; border: 0"
                  >{{ contentLan.INACTIVE }}</span
                >
              </ng-template>
              <li>
                <span class="forSpan">{{
                  capitalize(datas.aproval_Status)
                }}</span>
              </li>
            </ul>
            <h6 *ngIf="datas._is_All_Nothing_ == true">
              {{ contentLan.BUSINESSMODEL }}:
              <span style="color: #ff4264"
                >{{ contentLan.ALLORNOTHING }}
                <i
                  class="fas fa-info-circle"
                  ngbTooltip="{{ contentLan.ALLORNOTHING }}"
                  style="
                    color: #5c82d4;
                    margin-left: 1%;
                    font-size: 14px;
                    cursor: pointer;
                  "
                ></i
              ></span>
            </h6>
            <h6 *ngIf="datas._is_Keep_It_All_ == true">
              {{ contentLan.BUSINESSMODEL }}:
              <span style="color: #ff4264"
                >{{ contentLan.KEEPALL
                }}<i
                  class="fas fa-info-circle"
                  ngbTooltip="{{ contentLan.KEEPALL }}"
                  style="
                    color: #5c82d4;
                    margin-left: 1%;
                    font-size: 14px;
                    cursor: pointer;
                  "
                ></i
              ></span>
            </h6>
            <h3 style="padding: 0%">
              <a class="onHover" [routerLink]="['/projectview', datas._id]">{{
                datas.title
              }}</a>
            </h3>
            <p *ngIf="datas.basicInfoId.decription?.length >= 121">
              {{ datas.basicInfoId.decription.slice(0, 120) }}
              <a
                [routerLink]="['/projectview', datas._id]"
                style="font-size: 15px; cursor: pointer"
                >Read more</a
              >
            </p>
            <p *ngIf="121 >= datas.basicInfoId.decription?.length">
              {{ datas.basicInfoId.decription }}
            </p>
            <hr class="cont_sec_hr" />
            <ul class="save_last_sec">
              <li>
                {{ contentLan.GOAL }}:&nbsp;
                <span class="coloured">
                  SAR {{ datas.basicInfoId.goalAmount || "NA" }}</span
                >
              </li>
              <li>
                {{ contentLan.LAUNCH }}:&nbsp;
                {{
                  datas.basicInfoId.launchDate
                    ? (datas.basicInfoId.launchDate | date: "MMM d, y")
                    : "NA"
                }}
              </li>
              <li>
                {{ contentLan.PLEDGE || "Pledge" }}:{{
                  datas._amount_Pleadged_
                }}
                &nbsp;({{ datas.featurelastpercentage | number: "1.0-0" }}%)
              </li>
              <li>
                {{ contentLan.PLEDGE || "Pledge" }}Count:{{
                  datas._pledged_count_
                }}
              </li>
            </ul>
          </div>
        </div>
      </section>
    </section>
    <section *ngIf="displayMode === 6" class="career_desc_sec">
      <div class="container">
        <button
          class="createdbtn"
          (click)="onDisplayModeinChange(1)"
          [ngClass]="{ 'btn-primary ': displayModein === 1 }"
        >
          {{ contentLan.ADMINPAYMENTHISTORY }}
        </button>
        <button
          class="createdbtn"
          (click)="onDisplayModeinChange(2)"
          [ngClass]="{ 'btn-primary ': displayModein === 2 }"
        >
          {{ contentLan.PROJECTPAYMENTHISTORY }}
        </button>
      </div>
      <section *ngIf="displayModein === 1">
        <div class="container">
        
          <div class="row">
            <div class="col-md-12">
              <table class="table">
                <thead>
                  <tr>
                    <!-- <th scope="col">#</th> -->
                    <!-- <th scope="col">{{ contentLan.PROJECTS }}</th> -->
                    <th scope="col">Payed</th>
                    <th scope="col">Balance</th>
                    <th scope="col">Description</th>
                    <th scope="col">Date Transfer</th>
                    <th scope="col">Invoice</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let datas of getadmin.transactionHistory">
                    <!-- <td>{{ datas.title }}</td> -->
                    <td>{{ datas.payedAmount }}</td>
                    <td>{{ datas.balancePayable }}</td>
                    <td>{{ datas.description }}</td>
                    <td>{{ datas.dateTransfer | date: "MMM d, y" }}</td>
                    <td>
                      <a href="{{ datas.document }}" download="Bill"
                        >Download Invoice</a
                      >
                    </td>
                  </tr>
                </tbody>
              </table>
              <h4 style="text-align: center" *ngIf="getadmincount == 0">
                No Payment is done yet
              </h4>
            </div>
          </div>
          <!-- <ng-container *ngIf="visible">
                        <div class="shadow-sm p-3" style="background: whitesmoke; margin-top: -2%">
                            <div class="row" *ngFor="let datas of getadmin.transactionHistory">
                                <div class="col-md-6">
                                    <p style="font-size: 18px; font-weight: 500">
                                        Payed Amount:
                                        <span style="color: #00b500; font-size: 18px; font-weight: 600">{{ datas.payedAmount }}</span>
                                    </p>
                                    <p style="font-size: 18px; font-weight: 400">
                                        {{ contentLan.DESCRIPTION }}:
                                        <span style="font-size: 18px; font-weight: 500">{{
                      datas.description
                    }}</span>
                                    </p>
                                </div>
                                <div class="col-md-6">
                                    <p style="font-size: 18px; font-weight: 600">
                                        Balance Amount:
                                        <span style="color: red; font-size: 18px; font-weight: 600">{{ datas.balancePayable }}</span>
                                    </p>
                                    <p style="font-size: 18px; font-weight: 400">
                                        Date Transfer:
                                        <span style="font-size: 18px; font-weight: 500">{{
                      datas.dateTransfer | date: "MMM d, y"
                    }}</span>
                                    </p>
                                </div>
                                <div class="row">
                                    <a href="{{ datas.document }}" download="Bill">Download Invoice</a>
                                </div>
                            </div>
                        </div>
                    </ng-container> -->
        </div>
      </section>
      <section *ngIf="displayModein === 2">
        <div class="container">
          <div class="row">
            <div class="col-md-12">
              <table class="table">
                <thead>
                  <tr>
                    <!-- <th scope="col">#</th> -->
                    <th scope="col">{{ contentLan.PROJECTS }}</th>
                    <th scope="col">{{ contentLan.REWARDS }}</th>
                    <th scope="col">{{ contentLan.BACKER }}</th>
                    <th scope="col">{{ contentLan.BUSINESSMODEL }}</th>
                    <th scope="col">{{ contentLan.AMOUNT }}</th>
                    <!-- <th scope="col">Project Status</th> -->
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let datas of created">
                    <!-- <th scope="row">1</th> -->
                    <td *ngIf="datas._is_succeed_ == true">
                      {{ datas.title }}
                    </td>
                    <td *ngIf="datas._is_succeed_ == true">
                      <div
                        class="row"
                        *ngFor="let rewards of datas.rewardTableId"
                      >
                        <div class="col-md-12">
                          <button
                            class="rewardtitle"
                            (click)="openreward(rewards, datas)"
                          >
                            {{ rewards.title }}
                          </button>
                        </div>
                      </div>
                    </td>
                    <td *ngIf="datas._is_succeed_ == true">
                      {{ datas._pledged_count_ }}
                    </td>
                    <td *ngIf="datas._is_succeed_ == true">
                      <span
                        *ngIf="datas._is_All_Nothing_ == true; else keepitall"
                        >All or Nothing</span
                      >
                      <ng-template #keepitall> Keep it All </ng-template>
                    </td>
                    <td *ngIf="datas._is_succeed_ == true">
                      {{ datas._amount_Pleadged_ }}
                    </td>
                  </tr>
                </tbody>
              </table>
              <span *ngIf = "paymenthistCount == false">
              <h4 style="text-align: center">No pledgeds are done yet</h4>
            </span>
            </div>
          </div>
        </div>
      </section>
      <div class="overlay2" *ngIf="rewardpopup">
        <div class="rewardpopup">
          <div class="container">
            <div class="row">
              <div class="col-md-10"></div>
              <div class="col-md-2">
                <a class="close" (click)="rewardpopup = false">&times;</a>
              </div>
            </div>
            <div class="row">
              <h4 style="text-align: center">Backers List</h4>
              <hr />
            </div>
            <h5 style="font-weight: 200; margin: 0% 0% 3% 0%">
              Number of Pledges done:<span
                style="padding: 5px; color: #ff6354; font-weight: 500"
                >{{ pledgecount }}</span
              >
            </h5>
            <div class="row">
              <div class="col-md-3">
                <p>#</p>
              </div>
              <div class="col-md-4">
                <p>{{ contentLan.NAME }}</p>
              </div>
              <div class="col-md-3">
                <p>{{ contentLan.AMOUNT }}</p>
              </div>
              <div class="col-md-2">
                <p>{{ contentLan.DATE }}</p>
              </div>
            </div>
            <div class="row">
              <div
                class="col-md-12"
                style="margin-top: 3%"
                *ngFor="let datas of getreward"
              >
                <div class="row">
                  <div class="col-md-3" *ngIf="datas._is_Paid_ == false">
                    <img
                      src="{{ datas.userDetails.investorImage }}"
                      style="
                        margin-top: -7%;
                        width: 50px;
                        height: 50px;
                        border-radius: 25px;
                      "
                    />
                  </div>
                  <div class="col-md-4" *ngIf="datas._is_Paid_ == false">
                    <h4 style="font-size: 18px">
                      {{ datas.userDetails.fullName }}
                    </h4>
                  </div>
                  <div class="col-md-2" *ngIf="datas._is_Paid_ == false">
                    <p>{{ datas.pledgeAmount }}</p>
                  </div>
                  <div class="col-md-3" *ngIf="datas._is_Paid_ == false">
                    <p>{{ datas.createdAt | date: "MMM d, y" }}</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section *ngIf="displayMode === 4">
      <div class="row">
        <div class="col-md-8">
          <h4 class="activityhead">{{ contentLan.MYREQUESTS }}</h4>
        </div>
      </div>
      <section class="created_proj_sec">
        <div class="row" style="margin-top: 2%">
          <div
            class="card"
            style="
              margin-top: 2%;
              width: 90%;
              margin-left: 5%;
              margin-bottom: 1%;
            "
            *ngFor="let datas of requestdata"
          >
            <div class="card-body">
              <h5 class="card-title">{{ datas.serviceType }}</h5>
              <h6 class="card-subtitle mb-2">
                <span class="tag-box">{{ datas.projectId.title }}</span>
              </h6>
              <p class="card-text" style="margin-bottom: 0%">
                {{ datas.comments }}
              </p>
              <p class="card-text" style="margin-bottom: 0%">
                {{ datas.userId.city }},{{ datas.userId.country }}
              </p>
              <p class="card-text" style="margin-bottom: 0%">
                {{ datas.userName }}
              </p>
            </div>
          </div>
          <!-- <hr style="width: 50%;margin-left: 30%;margin-top: 2%;"> -->
        </div>
      </section>
    </section>
    <section *ngIf="displayMode === 5">
      <div class="row">
        <div class="table-responsive">
          <!--Table-->
          <table class="table">
            <!--Table head-->
            <thead>
              <tr>
                <th>{{ contentLan.SNO }}</th>
                <th class="th-lg">{{ contentLan.TITLE }}</th>
                <th class="th-lg">{{ contentLan.INVOIDEDATE }}</th>
                <th class="th-lg">{{ contentLan.INVOICENO }}</th>
                <th class="th-lg">{{ contentLan.STATUS }}</th>
              </tr>
            </thead>
            <!--Table head-->

            <!--Table body-->
            <tbody>
              <tr *ngFor="let billdata of getbilldata; let ndx = index">
                <th scope="row">{{ ndx + 1 }}.</th>
                <td>
                  {{ billdata.serviceType }}
                  <!-- <span *ngIf="billdata.projectId.title === undefined;else serviceTemplate">
                                    {{billdata.projectId.title}}
                                </span>
                                    <ng-template #serviceTemplate>
                                        {{billdata.service}}
                                    </ng-template> -->
                </td>
                <td>{{ billdata.invoiceData | date: "dd-MM-yyyy" }}</td>
                <td>
                  <a
                    (click)="billpopup(billdata)"
                    style="
                      text-decoration: underline;
                      color: green;
                      cursor: pointer;
                    "
                  >
                    {{ billdata.invoiceNo }}
                  </a>
                </td>
                <td>
                  <span
                    *ngIf="
                      billdata.billStatus === 'pending';
                      else successTemplate
                    "
                  >
                    <button class="billstatus">
                      {{ billdata.billStatus }}
                    </button>
                    <button class="billpay" (click)="paybill(billdata)">
                      {{ contentLan.PAY }}
                    </button>
                  </span>
                  <ng-template #successTemplate>
                    <button class="billstatusg" disabled>
                      {{ billdata.billStatus }}
                    </button>
                  </ng-template>
                </td>
              </tr>
            </tbody>
            <!--Table body-->
          </table>
          <!--Table-->
          <div
            class="row"
            *ngIf="getbilldata == null || getbilldata.length == 0"
            style="text-align: center"
          >
            <h5 class="text-center">No Bill Found</h5>
          </div>
        </div>
      </div>
    </section>
    <div class="overlay1" *ngIf="popup1">
      <div class="popup1">
        <div class="container">
          <div class="row">
            <div class="col-md-10"></div>
            <div class="col-md-2">
              <a class="close" (click)="popup1 = false">&times;</a>
            </div>
          </div>
          <h4 style="text-align: center; font-size: 24px; font-weight: 500">
            Pay the Bill
          </h4>
          <hr style="color: #ff724c" />
          <div class="row">
            <div
              class="col-md-6"
              style="text-align: -webkit-center; border: 1px solid #fb6e0c80"
            >
              <h5 style="font-size: 24px; font-weight: 400; margin-top: 15%">
                Total:<span
                  style="padding: 10px; color: #ff0000c4; font-weight: 500"
                  >SAR {{ billdetail.totalAmount }}</span
                >
              </h5>
            </div>
            <div class="col-md-1"></div>
            <div class="col-md-5" style="border: 1px solid #fb6e0c80">
              <div class="row">
                <form [formGroup]="addmoneyform" ngNativeValidate>
                  <div class="col-md-12" style="padding: 10px">
                    <h5 style="font-size: 20px">Select Card Type:</h5>
                    <input
                      type="radio"
                      formControlName="paymentMethod"
                      name="paymentMethod"
                      value="MADA"
                      id="MADA"
                      checked
                      required
                    /><label for="MADA">&nbsp;MADA</label><br />
                    <input
                      type="radio"
                      formControlName="paymentMethod"
                      name="paymentMethod"
                      value="VISA"
                      id="VISA"
                      required
                    /><label for="VISA">&nbsp;VISA</label><br />
                    <input
                      type="radio"
                      formControlName="paymentMethod"
                      name="paymentMethod"
                      value="MASTER"
                      id="MASTER"
                      required
                    /><label for="MASTER">&nbsp;MASTER</label>
                  </div>
                  <div
                    class="card"
                    style="
                      border: 1px solid #ff5355;
                      padding: 3px;
                      margin-top: 5%;
                    "
                  >
                    <div class="card-body">
                      <div class="row">
                        <div class="col-md-12">
                          <h3 style="color: #ff5355">SAR &nbsp;900</h3>
                          <label style="color: #9a999e; font-size: 14px">{{
                            contentLan.CURRAVAILBALANCE
                          }}</label>
                        </div>
                      </div>
                      <div class="col-md-12" style="margin-top: 10%">
                        <!-- <button class="carer_head" style=" width: inherit; " (click)="openpay()">+ {{ contentLan.ADDMONEYTOWALLET }}</button> -->
                        <form [formGroup]="addmoneyform" ngNativeValidate>
                          <div *ngIf="popuppay" class="paytext">
                            <div class="row">
                              <div class="col-md-12">
                                <h5 style="font-size: 20px">
                                  Select Card Type:
                                </h5>
                                <input
                                  type="radio"
                                  formControlName="paymentMethod"
                                  name="paymentMethod"
                                  value="MADA"
                                  id="MADA"
                                  checked="checked"
                                /><label for="MADA">&nbsp;MADA</label><br />
                                <input
                                  type="radio"
                                  formControlName="paymentMethod"
                                  name="paymentMethod"
                                  value="VISA"
                                  id="VISA"
                                /><label for="VISA">&nbsp;VISA</label><br />
                                <input
                                  type="radio"
                                  formControlName="paymentMethod"
                                  name="paymentMethod"
                                  value="MASTER"
                                  id="MASTER"
                                /><label for="MASTER">&nbsp;MASTER</label>
                              </div>
                            </div>
                            <h5 style="font-size: 20px; margin-top: 5%">
                              Enter Amount:
                            </h5>
                            <input
                              type="number"
                              placeholder="Amount"
                              formControlName="amount"
                            />

                            <div class="row">
                              <div class="col-md-12">
                                <!-- <button class="wallet_pay" (click)="addmoney()"> {{
                                                                    contentLan.ADDMONEYTOWALLET }}</button> -->
                              </div>
                            </div>
                          </div>
                        </form>
                      </div>
                      <div class="col-md-12" style="margin-top: 3%">
                        <button
                          class="carer_head"
                          style="width: inherit"
                          (click)="paywallet()"
                        >
                          Pay
                        </button>
                      </div>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <button class="billpayment" (click)="billpayment()">
                Process to Payment
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="overlay" *ngIf="popup">
      <div class="popup">
        <div class="container">
          <div class="row">
            <div class="col-md-10"></div>
            <div class="col-md-2">
              <a class="close" (click)="popup = false">&times;</a>
            </div>
          </div>
          <!DOCTYPE html>
          <html lang="en">
            <head>
              <style>
                .panel-body {
                  padding: 30px;
                  background-color: #f3f3f3;
                }

                .card-body {
                  padding: 0;
                }

                p {
                  margin-bottom: 5px;
                }

                .img-fluid {
                  max-width: 100%;
                  height: auto;
                }

                .second_panel_body {
                  padding: 10px 30px;
                }

                .bill_head {
                  padding: 5px;
                  background-color: #f3f3f3;
                  font-size: 16px;
                  margin-bottom: 20px;
                }

                table {
                  border-collapse: collapse;
                  border-spacing: 0;
                  width: 100%;
                }

                tr:nth-child(even) {
                  background-color: #f2f2f2;
                }

                .right {
                  text-align: right;
                }

                .center {
                  text-align: center;
                }

                tbody > tr {
                  border: 1px solid #7f7f7f;
                }

                tbody > tr > td {
                  border-left: 1px solid #7f7f7f;
                  border-right: 1px solid #7f7f7f;
                }

                .table-responsive::-webkit-scrollbar {
                  display: none;
                }

                .table-responsive {
                  -ms-overflow-style: none;
                  /* IE and Edge */
                  scrollbar-width: none;
                  /* Firefox */
                }

                thead > tr {
                  background-color: #f47549;
                  color: #fff;
                }

                @media print {
                  thead > tr {
                    background-color: auto;
                    color: #000;
                  }

                  thead > tr > th {
                    border: 1px solid #7f7f7f;
                  }
                }
              </style>
            </head>

            <body>
              <!-- ============================================================== -->
              <!-- Start Page Content here -->
              <!-- ============================================================== -->

              <div class="content-page">
                <!-- Start Content-->
                <div class="container-fluid">
                  <div class="row">
                    <div class="col-md-12">
                      <div class="card card-body">
                        <div
                          style="padding: 10px 0; background-color: #f47549"
                        ></div>
                        <div class="panel-body">
                          <div class="clearfix">
                            <div class="float-left">
                              <div class="row">
                                <div class="col-md-2">
                                  <img
                                    src="https://fikra.app/assets/image/logo_colored.png"
                                    class="img-fluid"
                                  />
                                </div>
                                <div class="col-md-9">
                                  <h6 style="margin-top: 20px">Company Name</h6>
                                  <p>Address</p>
                                  <p>Contact Details</p>
                                </div>
                              </div>
                            </div>
                            <div class="float-right" style="text-align: end">
                              <h4
                                style="
                                  color: #7f7f7f;
                                  font-size: 30px;
                                  margin-top: 25px;
                                "
                              >
                                INVOICE
                              </h4>
                              <p class="centers">
                                <strong>{{
                                  billdetail.invoiceData | date: "MMM d, y"
                                }}</strong>
                              </p>
                              <p class="centers">
                                <strong
                                  >{{ contentLan.INVOICENO }} :{{
                                    billdetail.invoiceNo
                                  }}</strong
                                >
                              </p>
                            </div>
                          </div>
                        </div>

                        <div class="second_panel_body">
                          <div class="row">
                            <div class="col-md-12">
                              <div
                                class="float-right mt-3"
                                style="text-align: end"
                              >
                                <p>
                                  Payment terms (due on
                                  <span
                                    style="font-size: 16px; font-weight: 600"
                                    >{{
                                      billdetail.dueDate | date: "MMM d, y"
                                    }}</span
                                  >, due in
                                  <span
                                    style="font-size: 16px; font-weight: 600"
                                    >{{ lastdate }}
                                  </span>
                                  days)
                                </p>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-md-5 mt-3">
                              <h6 class="bill_head">BILL TO</h6>
                              <p>{{ contentLan.NAME }} : {{ billName }}</p>
                              <p>
                                {{ contentLan.ADDRESS }} : {{ addressOne }},
                                {{ addressTwo }}
                              </p>
                              <p>{{ contentLan.CITY }} : {{ city }}</p>
                              <p>
                                {{ contentLan.STATE }} : {{ state }} - {{ pin }}
                              </p>
                              <p>{{ contentLan.PHONENUMBER }} : {{ phone }}</p>
                            </div>
                            <div class="col-md-2"></div>
                            <div class="col-md-5 mt-3">
                              <h6 class="bill_head">SHIP TO</h6>
                              <p>{{ contentLan.NAME }} : {{ billName }}</p>
                              <!-- <p>Client Company Name</p> -->
                              <p>
                                {{ contentLan.ADDRESS }} : {{ addressOne }},
                                {{ addressTwo }}
                              </p>
                              <p>{{ contentLan.CITY }} : {{ city }}</p>
                              <p>
                                {{ contentLan.STATE }} : {{ state }} - {{ pin }}
                              </p>
                              <p>{{ contentLan.PHONENUMBER }} : {{ phone }}</p>
                            </div>
                          </div>
                          <!-- end row -->
                          <br /><br />
                          <div class="row">
                            <div class="col-md-12">
                              <div class="table-responsive">
                                <table class="table">
                                  <thead>
                                    <tr
                                      style="
                                        background-color: #f47549 !important;
                                      "
                                    >
                                      <th>{{ contentLan.SNO }}</th>
                                      <th>{{ contentLan.DESCRIPTION }}</th>
                                      <th class="center">
                                        {{ contentLan.QTY }}
                                      </th>
                                      <th class="center">UNIT PRICE</th>
                                      <th class="center">TOTAL</th>
                                    </tr>
                                  </thead>
                                  <tbody>
                                    <tr
                                      *ngFor="
                                        let includedata of billdetail.includes;
                                        let ndx = index
                                      "
                                    >
                                      <td>{{ ndx + 1 }}.</td>
                                      <td>{{ includedata.description }}.</td>
                                      <td class="center">
                                        {{ includedata.quantity }}
                                      </td>
                                      <td class="center">
                                        {{ includedata.unitPrice }}
                                      </td>
                                      <td class="right">
                                        {{ includedata.total }}
                                      </td>
                                    </tr>
                                  </tbody>
                                </table>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-xl-4 col-6">
                              <div class="clearfix mt-4">
                                <h5 class="small text-dark">
                                  Remarks / Payment Instructions:
                                </h5>
                                <small>
                                  All accounts are to be paid within 7 days from
                                  receipt of invoice. To be paid by cheque or
                                  credit card or direct payment online. If
                                  account is not paid within 7 days the credits
                                  details supplied as confirmation of work
                                  undertaken will be charged the agreed quoted
                                  fee noted above.
                                </small>
                              </div>
                            </div>
                            <div class="col-xl-4 col-6 offset-xl-4">
                              <div class="row">
                                <div class="col-md-8 col-8">
                                  <p class="text-right"><b>SUBTOTAL : </b></p>
                                  <p class="text-right">
                                    <b>PROCESSING FEES : </b>
                                  </p>
                                  <p class="text-right"><b>VAT RATE : </b></p>
                                  <p class="text-right">
                                    <b>PAYMENT MODEL FEES : </b>
                                  </p>
                                  <p class="text-right"><b>DISCOUNT :</b></p>
                                  <p class="text-right"><b>GRAND TOTAL :</b></p>
                                </div>
                                <div class="col-md-4 col-4">
                                  <p class="text-right">
                                    <b>{{ billdetail.dueAmount }}</b>
                                  </p>
                                  <p class="text-right">
                                    <b>{{ billdetail.processing_Fees }}</b>
                                  </p>
                                  <p class="text-right">
                                    <b>{{ billdetail.VAT }}</b>
                                  </p>
                                  <p class="text-right">
                                    <b>{{ billdetail.paymentModel }}</b>
                                  </p>
                                  <p class="text-right">
                                    <b>{{ billdetail.discount }}</b>
                                  </p>
                                  <p class="text-right">
                                    <b>{{ billdetail.totalAmount }}</b>
                                  </p>
                                </div>
                              </div>

                              <hr />
                              <h3 class="text-right">
                                SAR {{ billdetail.totalAmount }}
                              </h3>
                            </div>
                          </div>
                          <br />
                          <div
                            style="padding: 10px 0; background-color: #f47549"
                          ></div>
                          <br />
                          <div class="d-print-none">
                            <div class="float-right">
                              <!-- <a href="javascript:window.print()" class="btn btn-dark waves-effect waves-light"><i -->
                              <!-- class="fa fa-print"></i></a>&nbsp;&nbsp; -->
                              <!-- <a href="#" class="btn btn-primary waves-effect waves-light">Submit</a> -->
                            </div>
                            <div class="clearfix"></div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- end row -->
                </div>
                <!-- container-fluid -->
              </div>

              <!-- ============================================================== -->
              <!-- End Page content -->
              <!-- ============================================================== -->
            </body>
          </html>
        </div>
      </div>
    </div>
  </div>
</section>
<ng-template #creatorTemplate>
  <section class="activity_sec">
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <div class="activitybox">
            <button
              class="activitybtn"
              (click)="onDisplayModeChange(1)"
              [ngClass]="{ 'btn-primary ': displayMode === 1 }"
            >
              {{ contentLan.ACTIVITY }}
            </button>
            <!-- <button class="backedbtn" (click)="onDisplayModeChange(2)" [ngClass]="{'btn-primary ': displayMode === 2}"> Backed projects </button> -->
            <button
              class="createdbtn"
              (click)="onDisplayModeChange(3)"
              [ngClass]="{ 'btn-primary ': displayMode === 3 }"
            >
              {{ contentLan.MYBILLS }}
            </button>
            <!-- <a href="/account" class="settinghref"><button class="settingbtn" > Settings </button></a> -->
            <a href="/profile" class="profilehref"
              ><button class="profilebtn">Profile</button></a
            >
          </div>
        </div>
      </div>

      <!-- Activity description -->
      <div class="row" *ngIf="displayMode === 1">
        <div class="col-md-8">
          <h4 class="activityhead">{{ contentLan.LIKEDPROJECT }}</h4>
          <p class="activitypara" *ngIf="likedata == ''">
            You haven't Liked anything â€”
            <a [routerLink]="['/featureproject']"
              ><span class="activitparahl">
                check out some of projects we love
              </span> </a
            >and help bring them to life today.
          </p>
        </div>
        <section class="saved_cont_sec" *ngFor="let obj of likedata">
          <div class="row">
            <diV
              class="col-md-3"
              *ngIf="
                obj.likedProjectId.basicInfoId.projectImage;
                else nextImages
              "
            >
              <img
                src="{{ obj.likedProjectId.basicInfoId.projectImage }}"
                class="img-fluid"
                style="height: 90% !important"
              />
            </diV>

            <ng-template #nextImages>
              <diV class="col-md-3">
                <div
                  class="img-fluid"
                  style="background-color: lightgray; height: 90% !important"
                >
                  <i class="fas fa-image" style="margin: 91px"></i>
                </div>
              </diV>
            </ng-template>

            <div class="col-md-9">
              <ul class="cont_sec_pro">
                <li style="padding: 0px">
                  <i class="fa fa-list-alt" aria-hidden="true"></i
                  >{{ obj.likedProjectId.basicInfoId.categoryName }}
                </li>
                <li>
                  <i class="fa fa-map-marker"></i
                  >{{ obj.likedProjectId.basicInfoId.city }}
                </li>
                <li>
                  <span
                    *ngIf="obj.likedProjectId._is_On_Live_; else either"
                    class="forSpan"
                    >{{ contentLan.ACTIVE }}</span
                  >
                </li>
                <ng-template #either>
                  <span class="forSpanno">{{ contentLan.INACTIVE }}</span>
                </ng-template>
                <li style="float: right">
                  <button
                    style="border: none; background: none"
                    (click)="addtolike(obj.likedProjectId._id)"
                  >
                    <i class="fa fa-thumbs-up" aria-hidden="true"></i>
                  </button>
                </li>
              </ul>
              <h6 *ngIf="obj.likedProjectId._is_All_Nothing_ == true">
                {{ contentLan.BUSINESSMODEL }}:
                <span style="color: #ff4264"
                  >{{ contentLan.ALLORNOTHING }}
                  <i
                    class="fas fa-info-circle"
                    ngbTooltip="{{ contentLan.ALLORNOTHING }}"
                    style="
                      color: #5c82d4;
                      margin-left: 1%;
                      font-size: 14px;
                      cursor: pointer;
                    "
                  ></i
                ></span>
              </h6>
              <h6 *ngIf="obj.likedProjectId._is_Keep_It_All_ == true">
                {{ contentLan.BUSINESSMODEL }}:
                <span style="color: #ff4264"
                  >{{ contentLan.KEEPALL
                  }}<i
                    class="fas fa-info-circle"
                    ngbTooltip="{{ contentLan.KEEPALL }}"
                    style="
                      color: #5c82d4;
                      margin-left: 1%;
                      font-size: 14px;
                      cursor: pointer;
                    "
                  ></i
                ></span>
              </h6>
              <h3 style="padding: 0%">
                <a
                  class="onHover"
                  [routerLink]="['/projectview', obj.likedProjectId._id]"
                  >{{ obj.likedProjectId.title }}</a
                >
              </h3>
              <p
                *ngIf="obj.likedProjectId.basicInfoId.decription?.length >= 121"
              >
                {{ obj.likedProjectId.basicInfoId.decription.slice(0, 120) }}
                <a
                  [routerLink]="['/projectview', obj.likedProjectId._id]"
                  style="font-size: 15px; cursor: pointer"
                  >Read more</a
                >
              </p>
              <p
                *ngIf="121 >= obj.likedProjectId.basicInfoId.decription?.length"
              >
                {{ obj.likedProjectId.basicInfoId.decription }}
              </p>
              <hr class="cont_sec_hr" />
              <ul class="save_last_sec">
                <li>
                  {{ contentLan.GOAL }}:
                  <span class="coloured">
                    &nbsp;SAR &nbsp;
                    {{ obj.likedProjectId.basicInfoId.goalAmount }}</span
                  >
                </li>
                <li>
                  {{ contentLan.LAUNCH }} :
                  {{
                    obj.likedProjectId.basicInfoId.launchDate | date: "MMM d, y"
                  }}
                </li>
                <li>
                  {{ contentLan.PLEDGE || "Pledge" }}:{{
                    obj.likedProjectId._amount_Pleadged_
                  }}
                  &nbsp;({{ obj.likelastpercentage | number: "1.0-0" }}%)
                </li>
                <li>
                  {{ contentLan.PLEDGE || "Pledge" }}Count:{{
                    obj.likedProjectId._pledged_count_
                  }}
                </li>
              </ul>
            </div>
          </div>
        </section>
      </div>

      <!-- Backed description -->
      <div class="row" *ngIf="displayMode === 2">
        <div class="col-md-8">
          <h4 class="activityhead">{{ contentLan.BACKEDPROJECS }}</h4>
          <!-- <p class="activitypara">You haven't backed anything â€” <span class="activitparahl"> check out some popular projects we love </span>and help bring them to life today.</p> -->
        </div>
      </div>

      <!-- Mybills Investor -->
      <div class="row" *ngIf="displayMode === 3">
        <div class="col-md-8">
          <h4 class="activityhead">{{ contentLan.MYBILLS }}</h4>
          <div class="row">
            <div class="table-responsive">
              <!--Table-->
              <table class="table">
                <!--Table head-->
                <thead>
                  <tr
                    style="
                      background: #403e3e1c;
                      color: black;
                      border: 1px solid;
                    "
                  >
                    <th>{{ contentLan.SNO }}</th>
                    <th class="th-lg">{{ contentLan.TITLE }}</th>
                    <th class="th-lg">{{ contentLan.DATE }}</th>
                    <th class="th-lg">Reward Name</th>
                    <th class="th-lg">{{ contentLan.STATUS }}</th>
                    <th class="th-lg">Pledged amount</th>
                  </tr>
                </thead>
                <!--Table head-->

                <!--Table body-->
                <tbody *ngIf="getbilldata?.length > 0">
                  <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                </tbody>
                <!--Table body-->

                <tbody *ngIf="getbilldata?.length == 0">
                  <tr>
                    <td colspan="6" style="text-align: center">
                      No data available
                    </td>
                  </tr>
                </tbody>
              </table>
              <!--Table-->
            </div>
          </div>
        </div>
      </div>
      <!-- Created description -->
      <!-- <section *ngIf="displayMode === 3">
                <div class="row">
                    <div class="col-md-8">
                        <h4 class="activityhead">Created projects</h4>
                        <p class="activitypara">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type
                            specimen book.</p>
                    </div>
                </div>
                <section class="created_proj_sec">
                    <a [routerLink]="['/projectview',datataking._id]" (click)="localprojectid()"> -->
      <!-- <div class="row">
                        <div class="col-md-3">
                            <img src="assets/image/create_proj_img.svg" class="img-fluid">
                        </div>
                        <div class="col-md-7">
                            <div class="project_cont">
                                <h3>Yellostack - Web-App</h3>
                                <p>By Michael Murdock</p>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <img src="assets/image/right_create_project.svg" class="img-fluid right_img_sec">
                        </div>
                    </div> -->
      <!-- </a> -->
      <!-- </section>
            </section>  -->
    </div>
  </section>
</ng-template>

<app-footer></app-footer>
